<!DOCTYPE html>
<html>
<body>

<h2>API Data:</h2>


<div id="apiData"></div>

<script>

var depICAO = 'KJFK'
var arrICAO = 'KIAD'
    


const sendHttpRequest = (method, url, fromICAO, toICAO, username) => {
    const xhr = new XMLHttpRequest();
    const newUrl = 'https://corsproxy.io/?' + encodeURIComponent(url);
    xhr.open(method, newUrl);
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.setRequestHeader("Authorization", "Basic " + btoa(username));
    xhr.onload = function() {
        const data = xhr.response;
        console.log(data);
    }
    const requestData = JSON.stringify({ fromICAO: fromICAO, toICAO: toICAO });
    xhr.send(requestData);
}

// Example usage:
const departureICAO = "EHAM"; // Amsterdam Airport Schiphol
const arrivalICAO = "KJFK";   // John F. Kennedy International Airport
sendHttpRequest('GET', 'https://api.flightplandatabase.com')
sendHttpRequest('POST', 'https://api.flightplandatabase.com/auto/generate', departureICAO, arrivalICAO, 'UuiQOC3fqrvM6c0uTovc5ITMNoAa0wvqDOJ2tvia');



</script>

</body>
</html>

